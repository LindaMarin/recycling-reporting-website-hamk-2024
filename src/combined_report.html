<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Recycling Reporting</title>
    <link rel="stylesheet" href="../parts/global.css">
    <link rel="stylesheet" href="../parts/style.css"> <!-- For Step 1 -->
    <link rel="stylesheet" href="../parts/style_step_2.css"> <!-- For Step 2 -->
    <link rel="stylesheet" href="../parts/step3.css"> <!-- For Step 3 -->
    <link rel="stylesheet" href="../parts/style-step4.css"> <!-- For Step 4 -->

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css"> <!-- For icons -->
    <style>
        .step {
            display: none;
        }
        .step.active {
            display: block;
        }
    </style>
</head>
<body>
    <div class="navbar">
        <ul>
            <li><a href="../index.html">Home</a></li>
            <li><a href="../src/learn.html">Learn</a></li>
            <li><a href="../src/status_map.html">Status map</a></li>
            <li><a href="../src/report.html" class="active">Reporting</a></li>
        </ul>
        <div class="user-icon">
            <img src="../parts/user_app_basic_icon.png" alt="User Icon" />
        </div>
    </div>

    <!-- Step 1 -->
    <div id="step1" class="step active">
        <div class="container">
            <div class="address">
                <input type="text" id="addressInput" class="textbox" readonly>
                <div class="centered-medium-text">
                    <span>If the address above is not the address of<br>recycling area, choose it from below</span>
                </div>
                <div class="arrow-down">
                    <span>&#x2193;</span>
                </div>
                <select class="textbox" id="addressDropdown">
                    <option value="">Select an address</option>
                    <option value="address2">Street xx, 13100 Hml</option>
                    <option value="address3">Street xx, 13100 Hml</option>
                    <option value="address4">Street xx, 13100 Hml</option>
                </select>
            </div>
            <div class="arrow-right">
                <span>&#x2192;</span>
            </div>
            <div class="action">
                <div class="next-button">
                    <img src="../parts/right_arrow_icon.png" alt="Next" onclick="nextStep(1)" />
                </div>
            </div>
        </div>
    </div>


    <!-- Step 2 -->
    <div id="step2" class="step">
        <div class="container">
            <div class="btn-group">
                <div class="dropdown">
                    <button class="dropbtn">Waste sorting area</button>
                    <div class="dropdown-content">
                        <button onclick="changeColor(this, 'Waste sorting area')">Equipment</button>
                        <button onclick="changeColor(this, 'Waste sorting area')">Ventilation</button>
                        <button onclick="changeColor(this, 'Waste sorting area')">Doors</button>
                        <button onclick="changeColor(this, 'Waste sorting area')">Floor</button>
                        <button onclick="changeColor(this, 'Waste sorting area')">Accessibility</button>
                        <button onclick="changeColor(this, 'Waste sorting area')">Distances</button>
                        <button onclick="changeColor(this, 'Waste sorting area')">Lighting</button>
                        <button onclick="changeColor(this, 'Waste sorting area')">Signage</button>
                    </div>
                </div>
    
                <div class="dropdown">
                    <button class="dropbtn">General cleanliness</button>
                    <div class="dropdown-content">
                        <button onclick="changeColor(this, 'General cleanliness')">Cleanliness</button>
                        <button onclick="changeColor(this, 'General cleanliness')">Unwanted Animals</button>
                    </div>
                </div>
    
                <div class="dropdown">
                    <button class="dropbtn">Waste bins</button>
                    <div class="dropdown-content">
                        <button onclick="changeColor(this, 'Waste bins')">Placement</button>
                        <button onclick="changeColor(this, 'Waste bins')">Filling Levels</button>
                        <button onclick="changeColor(this, 'Waste bins')">Quantity</button>
                        <button onclick="changeColor(this, 'Waste bins')">Signage</button>
                    </div>
                </div>
            </div>
    
            <!-- Area to display clicked button text -->
            <div id="selected-items">
                <h3>Selected Issues:</h3>
                <ul id="selected-list"></ul>
            </div>
    
            <!-- Action Buttons Centered Below Content -->
            <div class="action">
                <div class="previous-button">
                    <img src="../parts/left_arrow_icon.png" alt="Previous" onclick="prevStep(2)"/>
                </div>
                <div class="next-button">
                    <img src="../parts/right_arrow_icon.png" alt="Next" onclick="nextStep(3)"/>
                </div>
            </div>
        </div>
    </div>


    <!-- Step 3 -->
    <div id="step3" class="step">
        <div class="container">
            <div class="input-box">
                <div class="options">
                    <button id="fullbin" class="option-button" onclick="selectOption(this)">Full bins</button>
                    <button id="cleanliness" class="option-button" onclick="selectOption(this)">Cleanliness</button>
                    <button id="misssortedwaste" class="option-button" onclick="selectOption(this)">Miss sorted waste</button>
                    <button id="Labelsnotvisible" class="option-button" onclick="selectOption(this)">Labels not visible</button>
                </div>

                <div class="upload-column">
                    <h3 class="upload-title">Add Images</h3>
                    <div class="upload-buttons">
                        <label class="upload-button">
                            <i class="fas fa-camera"></i>
                            <input type="file" accept="image/*" style="display: none;" />
                        </label>
                        <label class="upload-button">
                            <i class="fas fa-image"></i>
                            <input type="file" accept="image/*" style="display: none;" />
                        </label>
                    </div>
                </div>

                <div class="text-content">
                    <h3 class="comment-title">Comments</h3>
                    <textarea rows="5" maxlength="1000" placeholder="Type your comments here..."></textarea>
                </div>
            </div>
            <div class="action">
                <div class="previous-button">
                    <img src="../parts/left_arrow_icon.png" alt="Previous" onclick="prevStep(3)" />
                </div>
                <div class="next-button">
                    <img src="../parts/right_arrow_icon.png" alt="Next" onclick="nextStep(3)" />
                </div>
            </div>
        </div>
    </div>

    <!-- Step 4 -->
    <div id="step4" class="step">
        <div class="container">
            <div class="input-box">
                <div class="heading3">Send the report</div>
                <div class="main-text">How would you like to submit this report?</div>
                <ul class="options">
                    <li>
                        <input type="radio" id="registered" name="report" value="registered">
                        <label for="registered">As a registered user</label>
                    </li>
                    <li>
                        <input type="radio" id="anonymous" name="report" value="anonymous">
                        <label for="anonymous">As an anonymous</label>
                    </li>
                    <li>
                        <input type="radio" id="hide" name="report" value="hide">
                        <label for="hide">Hide your personal information</label>
                    </li>
                </ul>
            </div>
            <div class="action">
                <div class="previous-button">
                    <img src="../parts/left_arrow_icon.png" alt="Previous" onclick="prevStep(4)" />
                </div>
                <div class="finish-next">
                    <div class="finish-text">FINISH</div>
                    <div class="next-button">
                        <img src="../parts/right_arrow_icon.png" alt="Next" onclick="nextStep(4)" />
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="footer">
        Footer
    </div>

    <script>
        // JavaScript to handle steps navigation and dynamically change CSS
        function nextStep(currentStep) {
            const nextStepElement = document.getElementById(`step${currentStep + 1}`);
            if (nextStepElement) {
                document.getElementById(`step${currentStep}`).classList.remove('active');
                nextStepElement.classList.add('active');
                updateStepCSS(currentStep + 1);
            }
        }

        function prevStep(currentStep) {
            const prevStepElement = document.getElementById(`step${currentStep - 1}`);
            if (prevStepElement) {
                document.getElementById(`step${currentStep}`).classList.remove('active');
                prevStepElement.classList.add('active');
                updateStepCSS(currentStep - 1);
            }
        }

        function updateStepCSS(stepNumber) {
            const cssLinks = document.querySelectorAll('.dynamic-css');
            cssLinks.forEach(link => {
                link.href = `../parts/style_step_${stepNumber}.css`; // Adjust the path as needed
            });
        }

        function changeColor(button, category) {
            button.classList.toggle("clicked"); // Toggle the color change
        
            const selectedList = document.getElementById("selected-list");
            const buttonText = `${category} - ${button.innerText}`; // Combine category and button text
        
            if (button.classList.contains("clicked")) {
                // If clicked, add the text
                const listItem = document.createElement("li");
                listItem.textContent = buttonText;
                listItem.setAttribute("id", buttonText); // Use combined text as unique ID
                selectedList.appendChild(listItem);
            } else {
                // If unclicked, remove the text
                const listItem = document.getElementById(buttonText);
                if (listItem) {
                    selectedList.removeChild(listItem);
                }
            }
        }

    </script>
</body>
</html>
