<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Admin Dashboard</title>
    <link rel="stylesheet" href="../parts/style_admin.css">
    <script src="../js/language.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
</head>
<body>
    <div class="language-switcher">
        <button onclick="setLanguage('en')">English</button>
        <p>|</p>
        <button onclick="setLanguage('fi')">Suomi</button>
    </div>

    <div class="navbar">
        <ul>
            <li><a href="#" class="active">Dashboard</a></li>
            <li><a href="#">Reports</a></li>
            <li><a href="#">Settings</a></li>
        </ul>
            <div class="icons">
            <a class="user-icon" href="../src/user_profile.html">
              <img src="../parts/user_app_basic_icon.png" alt="User Icon" />
            </a>
            <div class="language-switcher">
              <button onclick="setLanguage('en')">
                <img src="../parts/uk-flag-icon.png" alt="UK Flag" />
              </button>
              <button onclick="setLanguage('fi')">
                <img src="../parts/finland-flag-icon.png" alt="Finland Flag" />
              </button>
            </div>
        </div>
    </div>

    <div class="container">
        <div class="info">
            <i class="fas fa-question-circle question-mark" onclick="toggleInstructions()"></i>
        </div>
        <h2>Admin Dashboard</h2>

        <div class="filter-options">
            <button onclick="showAllIssues()">All Issues</button>
            <button onclick="showOpenIssues()">Open Issues</button>
            <button onclick="showInProgressIssues()">In-Progress Issues</button>
            <button onclick="showResolvedIssues()">Resolved Issues</button>
        </div>

        <div class="report-section" id="report-section">
            <h3>Reported Issues</h3>

            <!-- Issue ID 201 -->
            <div class="report-item" id="report-201">
                <p><strong>Issue ID:</strong> 201</p>
                <p><strong>Address:</strong> 123 Main St, Springfield</p>
                <p><strong>Issues and Categories:</strong></p>
                <ol>
                    <li>Waste Bins - Placement</li>
                    <li>Waste Bins - Filling Levels</li>
                    <li>Waste Bins - Quantity</li>
                    <li>Waste Bins - Signage</li>
                </ol>
                <p><strong>Submitted by:</strong> John Doe (Logged User)</p>
                <p><strong>Status:</strong> <span class="status" id="status-201">Open</span></p>
                <button onclick="changeStatus('201', 'Open')">Open</button>
                <button onclick="changeStatus('201', 'In Progress')">In Progress</button>
                <button onclick="changeStatus('201', 'Resolved')">Mark as Resolved</button>
                <button onclick="viewDetails('201')">View Details</button>
            </div>

            <!-- Issue ID 202 -->
            <div class="report-item" id="report-202">
                <p><strong>Issue ID:</strong> 202</p>
                <p><strong>Address:</strong> 456 Elm St, Springfield</p>
                <p><strong>Issues and Categories:</strong></p>
                <ol>
                    <li>Waste Bins - Quantity</li>
                    <li>Waste Bins - Filling Levels</li>
                </ol>
                <p><strong>Submitted by:</strong> Anonymous</p>
                <p><strong>Status:</strong> <span class="status" id="status-202">Open</span></p>
                <button onclick="changeStatus('202', 'Open')">Open</button>
                <button onclick="changeStatus('202', 'In Progress')">In Progress</button>
                <button onclick="changeStatus('202', 'Resolved')">Mark as Resolved</button>
                <button onclick="viewDetails('202')">View Details</button>
            </div>

            <!-- Issue ID 203 -->
            <div class="report-item" id="report-203">
                <p><strong>Issue ID:</strong> 203</p>
                <p><strong>Address:</strong> 789 Oak St, Springfield</p>
                <p><strong>Issues and Categories:</strong></p>
                <ol>
                    <li>Waste Bins - Signage</li>
                    <li>Waste Bins - Filling Levels</li>
                </ol>
                <p><strong>Submitted by:</strong> Jane Smith (Logged User)</p>
                <p><strong>Status:</strong> <span class="status" id="status-203">Resolved</span></p>
                <button onclick="changeStatus('203', 'Open')">Open</button>
                <button onclick="changeStatus('203', 'In Progress')">In Progress</button>
                <button onclick="changeStatus('203', 'Resolved')">Mark as Resolved</button>
                <button onclick="viewDetails('203')">View Details</button>
            </div>

            <!-- Issue ID 204 -->
            <div class="report-item" id="report-204">
                <p><strong>Issue ID:</strong> 204</p>
                <p><strong>Address:</strong> 321 Maple St, Springfield</p>
                <p><strong>Issues and Categories:</strong></p>
                <ol>
                    <li>Waste Bins - Quantity</li>
                    <li>Waste Bins - Filling Levels</li>
                </ol>
                <p><strong>Submitted by:</strong> Alice Johnson (Logged User)</p>
                <p><strong>Status:</strong> <span class="status" id="status-204">Open</span></p>
                <button onclick="changeStatus('204', 'Open')">Open</button>
                <button onclick="changeStatus('204', 'In Progress')">In Progress</button>
                <button onclick="changeStatus('204', 'Resolved')">Mark as Resolved</button>
                <button onclick="viewDetails('204')">View Details</button>
            </div>

            <!-- Issue ID 205 -->
            <div class="report-item" id="report-205">
                <p><strong>Issue ID:</strong> 205</p>
                <p><strong>Address:</strong> 654 Pine St, Springfield</p>
                <p><strong>Issues and Categories:</strong></p>
                <ol>
                    <li>Waste Bins - Filling Levels</li>
                </ol>
                <p><strong>Submitted by:</strong> Mark Davis (Anonymous)</p>
                <p><strong>Status:</strong> <span class="status" id="status-205">Open</span></p>
                <button onclick="changeStatus('205', 'Open')">Open</button>
                <button onclick="changeStatus('205', 'In Progress')">In Progress</button>
                <button onclick="changeStatus('205', 'Resolved')">Mark as Resolved</button>
                <button onclick="viewDetails('205')">View Details</button>
            </div>

            <!-- Issue ID 206 -->
            <div class="report-item" id="report-206">
                <p><strong>Issue ID:</strong> 206</p>
                <p><strong>Address:</strong> 987 Birch St, Springfield</p>
                <p><strong>Issues and Categories:</strong></p>
                <ol>
                    <li>Waste Bins - Quantity</li>
                </ol>
                <p><strong>Submitted by:</strong> Anonymous</p>
                <p><strong>Status:</strong> <span class="status" id="status-206">In Progress</span></p>
                <button onclick="changeStatus('206', 'Open')">Open</button>
                <button onclick="changeStatus('206', 'In Progress')">In Progress</button>
                <button onclick="changeStatus('206', 'Resolved')">Mark as Resolved</button>
                <button onclick="viewDetails('206')">View Details</button>
            </div>

        </div> <!-- End of Report Section -->
    </div>

    <div class="footer">
        &copy; 2024 Admin Dashboard - All Rights Reserved
    </div>

    <!-- Instructions overlay -->
    <div class="instructions-overlay" id="instructions-overlay" style="display:none;">
        <div class="instructions-box">
            <span class="close-button" onclick="toggleInstructions()">×</span>
            <p><b>Instructions for this dashboard:</b></p>
            <ol>
                <li>Use the filter options to display different sets of issues (e.g. All Issues, Open Issues, Resolved Issues).</li>
                <li>Review reported issues by viewing details or marking issues as resolved.</li>
                <li>You can reopen resolved issues if necessary.</li>
            </ol>
        </div>
    </div>

    <!-- View Details overlay -->
    <div class="details-overlay" id="details-overlay" style="display:none;">
        <div class="details-box">
            <span class="close-button" onclick="toggleDetails()">×</span>
            <div class="issue-details" id="issue-details"></div>
        </div>
    </div>

    <!-- Image overlay -->
    <div class="image-overlay" id="image-overlay" style="display:none;">
        <span class="close-button" onclick="toggleImage()">×</span>
        <img id="enlarged-image" style="max-width: 90%; height: auto; margin: auto; display: block;">
    </div>


    <script>
        function toggleInstructions() {
            const overlay = document.getElementById('instructions-overlay');
            overlay.style.display = overlay.style.display === 'block' ? 'none' : 'block';
        }

        function toggleDetails() {
            const overlay = document.getElementById('details-overlay');
            overlay.style.display = overlay.style.display === 'block' ? 'none' : 'block';
        }

        function toggleImage() {
            const overlay = document.getElementById('image-overlay');
            overlay.style.display = overlay.style.display === 'block' ? 'none' : 'block';
        }

        function showImage(src) {
            const enlargedImage = document.getElementById('enlarged-image');
            enlargedImage.src = src;
            toggleImage();
        }


        function viewDetails(issueId) {
            let details = '';
            switch (issueId) {
                case '201':
                    details = `
                        <h3>Issue ID: 201</h3>
                        <p><strong>Address:</strong> 123 Main St, Springfield</p>
                        <p><strong>Issues and Categories:</strong></p>
                        <ol style="list-style-type: none; padding: 0;">
                            <li style="margin-bottom: 20px;">
                                <div style="background-color: #f9f9f9; border: 1px solid #ddd; border-radius: 8px; padding: 15px; display: flex; align-items: center;">
                                   <img src="../parts/wastebinsplacements.jpeg" class="clickable-image" style="max-width: 100px; height: auto; border-radius: 4px; margin-right: 15px;" onclick="showImage('../parts/wastebins.jpg')">
                                    <div>
                                        <h4 style="margin: 0;">Waste Bins - Placement</h4>
                                        <p style="margin: 5px 0; color: #555;"><strong>Comment:</strong> The sorting Placement is not functioning as expected.</p>
                                    </div>
                                </div>
                            </li>
                            <li>
                                <div style="background-color: #f9f9f9; border: 1px solid #ddd; border-radius: 8px; padding: 15px; display: flex; align-items: center;">
                                    <img src="../parts/wastebins.jpg" class="clickable-image" style="max-width: 100px; height: auto; border-radius: 4px; margin-right: 15px;" onclick="showImage('../parts/wastebins.jpg')">
                                    <div>
                                        <h4 style="margin: 0;">Waste Bins - Filling Levels</h4>
                                        <p style="margin: 5px 0; color: #555;"><strong>Comment:</strong> The bins are nearly full and require attention.</p>
                                    </div>
                                </div>
                            </li>                       
                            <li>
                                <div style="background-color: #f9f9f9; border: 1px solid #ddd; border-radius: 8px; padding: 15px; display: flex; align-items: center;">
                                    <img src="../parts/wastebinsquantity.jpeg" class="clickable-image" style="max-width: 100px; height: auto; border-radius: 4px; margin-right: 15px;" onclick="showImage('../parts/wastebins.jpg')">
                                    <div>
                                        <h4 style="margin: 0;">Waste Bins - Quantity</h4>
                                        <p style="margin: 5px 0; color: #555;"><strong>Comment:</strong> The bins are nearly full and require attention.</p>
                                    </div>
                                </div>
                            </li>
                            <li>
                                <div style="background-color: #f9f9f9; border: 1px solid #ddd; border-radius: 8px; padding: 15px; display: flex; align-items: center;">
                                    <img src="../parts/wastebinssinage.jpeg" class="clickable-image" style="max-width: 100px; height: auto; border-radius: 4px; margin-right: 15px;" onclick="showImage('../parts/wastebins.jpg')">
                                    <div>
                                        <h4 style="margin: 0;">Waste Bins - Signage</h4>
                                        <p style="margin: 5px 0; color: #555;"><strong>Comment:</strong> The bins are nearly full and require attention.</p>
                                    </div>
                                </div>
                            </li>
                        </ol>
                        <p><strong>Submitted by:</strong> John Doe (Logged User)</p>
                        <p><strong>Submission Date:</strong> 20/11/2024</p>
                    `;
                    break;
                case '202':
                    details = `
                        <h3>Issue ID: 202</h3>
                        <p><strong>Address:</strong> 456 Elm St, Springfield</p>
                        <p><strong>Issues and Categories:</strong></p>
                        <ol style="list-style-type: none; padding: 0;">
                            <li style="margin-bottom: 20px;">
                                <div style="background-color: #f9f9f9; border: 1px solid #ddd; border-radius: 8px; padding: 15px; display: flex; align-items: center;">
                                   <img src="../parts/wastebinsquantity.jpeg" class="clickable-image" style="max-width: 100px; height: auto; border-radius: 4px; margin-right: 15px;" onclick="showImage('../parts/wastebins.jpg')">
                                    <div>
                                        <h4 style="margin: 0;">Waste Bins - Quantity</h4>
                                        <p style="margin: 5px 0; color: #555;"><strong>Comment:</strong> The sorting Placement is not functioning as expected.</p>
                                    </div>
                                </div>
                            </li>
                            <li>
                                <div style="background-color: #f9f9f9; border: 1px solid #ddd; border-radius: 8px; padding: 15px; display: flex; align-items: center;">
                                    <img src="../parts/wastebins.jpg" class="clickable-image" style="max-width: 100px; height: auto; border-radius: 4px; margin-right: 15px;" onclick="showImage('../parts/wastebins.jpg')">
                                    <div>
                                        <h4 style="margin: 0;">Waste Bins - Filling Levels</h4>
                                        <p style="margin: 5px 0; color: #555;"><strong>Comment:</strong> The bins are nearly full and require attention.</p>
                                    </div>
                                </div>
                            </li>
                        </ol>
                        <p><strong>Submitted by:</strong> John Doe (Logged User)</p>
                        <p><strong>Submission Date:</strong> 20/11/2024</p>
                    `;
                    break;
                case '203':
                    details = `
                        <h3>Issue ID: 203</h3>
                        <p><strong>Address:</strong> 789 Oak St, Springfield</p>
                        <p><strong>Issues and Categories:</strong></p>
                        <ol style="list-style-type: none; padding: 0;">
                            <li style="margin-bottom: 20px;">
                                <div style="background-color: #f9f9f9; border: 1px solid #ddd; border-radius: 8px; padding: 15px; display: flex; align-items: center;">
                                   <img src="../parts/wastebinsplacements.jpeg" class="clickable-image" style="max-width: 100px; height: auto; border-radius: 4px; margin-right: 15px;" onclick="showImage('../parts/wastebins.jpg')">
                                    <div>
                                        <h4 style="margin: 0;">Waste Bins - Placement</h4>
                                        <p style="margin: 5px 0; color: #555;"><strong>Comment:</strong> The sorting Placement is not functioning as expected.</p>
                                    </div>
                                </div>
                            </li>
                            <li>
                                <div style="background-color: #f9f9f9; border: 1px solid #ddd; border-radius: 8px; padding: 15px; display: flex; align-items: center;">
                                    <img src="../parts/wastebins.jpg" class="clickable-image" style="max-width: 100px; height: auto; border-radius: 4px; margin-right: 15px;" onclick="showImage('../parts/wastebins.jpg')">
                                    <div>
                                        <h4 style="margin: 0;">Waste Bins - Filling Levels</h4>
                                        <p style="margin: 5px 0; color: #555;"><strong>Comment:</strong> The bins are nearly full and require attention.</p>
                                    </div>
                                </div>
                            </li>
                        </ol>
                        <p><strong>Submitted by:</strong> John Doe (Logged User)</p>
                        <p><strong>Submission Date:</strong> 20/11/2024</p>
                    `;
                    break;
                case '204':
                    details = `
                        <h3>Issue ID: 204</h3>
                        <p><strong>Address:</strong> 321 Maple St, Springfield</p>
                        <p><strong>Issues and Categories:</strong></p>
                        <ol style="list-style-type: none; padding: 0;">
                            <li style="margin-bottom: 20px;">
                                <div style="background-color: #f9f9f9; border: 1px solid #ddd; border-radius: 8px; padding: 15px; display: flex; align-items: center;">
                                   <img src="../parts/wastebinsplacements.jpeg" class="clickable-image" style="max-width: 100px; height: auto; border-radius: 4px; margin-right: 15px;" onclick="showImage('../parts/wastebins.jpg')">
                                    <div>
                                        <h4 style="margin: 0;">Waste Bins - Placement</h4>
                                        <p style="margin: 5px 0; color: #555;"><strong>Comment:</strong> The sorting Placement is not functioning as expected.</p>
                                    </div>
                                </div>
                            </li>
                            <li>
                                <div style="background-color: #f9f9f9; border: 1px solid #ddd; border-radius: 8px; padding: 15px; display: flex; align-items: center;">
                                    <img src="../parts/wastebins.jpg" class="clickable-image" style="max-width: 100px; height: auto; border-radius: 4px; margin-right: 15px;" onclick="showImage('../parts/wastebins.jpg')">
                                    <div>
                                        <h4 style="margin: 0;">Waste Bins - Filling Levels</h4>
                                        <p style="margin: 5px 0; color: #555;"><strong>Comment:</strong> The bins are nearly full and require attention.</p>
                                    </div>
                                </div>
                            </li>
                        </ol>
                        <p><strong>Submitted by:</strong> John Doe (Logged User)</p>
                        <p><strong>Submission Date:</strong> 20/11/2024</p>
                    `;
                    break;
                case '205':
                    details = `
                        <h3>Issue ID: 205</h3>
                        <p><strong>Address:</strong> 654 Pine St, Springfield</p>
                        <p><strong>Issues and Categories:</strong></p>
                        <ol style="list-style-type: none; padding: 0;">
                            <li style="margin-bottom: 20px;">
                                <div style="background-color: #f9f9f9; border: 1px solid #ddd; border-radius: 8px; padding: 15px; display: flex; align-items: center;">
                                   <img src="../parts/wastebinsplacements.jpeg" class="clickable-image" style="max-width: 100px; height: auto; border-radius: 4px; margin-right: 15px;" onclick="showImage('../parts/wastebins.jpg')">
                                    <div>
                                        <h4 style="margin: 0;">Waste Bins - Placement</h4>
                                        <p style="margin: 5px 0; color: #555;"><strong>Comment:</strong> The sorting Placement is not functioning as expected.</p>
                                    </div>
                                </div>
                            </li>
                        </ol>
                        <p><strong>Submitted by:</strong> John Doe (Logged User)</p>
                        <p><strong>Submission Date:</strong> 20/11/2024</p>
                    `;
                    break;
                case '206':
                    details = `
                        <h3>Issue ID: 206</h3>
                        <p><strong>Address:</strong> 987 Birch St, Springfield</p>
                        <p><strong>Issues and Categories:</strong></p>
                        <ol style="list-style-type: none; padding: 0;">
                            <li style="margin-bottom: 20px;">
                                <div style="background-color: #f9f9f9; border: 1px solid #ddd; border-radius: 8px; padding: 15px; display: flex; align-items: center;">
                                   <img src="../parts/wastebinsplacements.jpeg" class="clickable-image" style="max-width: 100px; height: auto; border-radius: 4px; margin-right: 15px;" onclick="showImage('../parts/wastebins.jpg')">
                                    <div>
                                        <h4 style="margin: 0;">Waste Bins - Placement</h4>
                                        <p style="margin: 5px 0; color: #555;"><strong>Comment:</strong> The sorting Placement is not functioning as expected.</p>
                                    </div>
                                </div>
                            </li>
                        </ol>
                        <p><strong>Submitted by:</strong> John Doe (Logged User)</p>
                        <p><strong>Submission Date:</strong> 20/11/2024</p>
                    `;
                    break;
               
            }

            document.getElementById('issue-details').innerHTML = details;
            toggleDetails();
        }

        function changeStatus(issueId, newStatus) {
            document.getElementById('status-' + issueId).innerText = newStatus;
            alert(`Status changed to "${newStatus}" for Issue ID: ${issueId};`);
        }

        function showAllIssues() {
            const items = document.querySelectorAll('.report-item');
            items.forEach(item => item.style.display = 'block');
        }

        function showOpenIssues() {
            const items = document.querySelectorAll('.report-item');
            items.forEach(item => {
                const status = item.querySelector('.status').textContent;
                item.style.display = (status === 'Open') ? 'block' : 'none';
            });
        }

        function showInProgressIssues() {
            const items = document.querySelectorAll('.report-item');
            items.forEach(item => {
                const status = item.querySelector('.status').textContent;
                item.style.display = (status === 'In Progress') ? 'block' : 'none';
            });
        }

        function showResolvedIssues() {
            const items = document.querySelectorAll('.report-item');
            items.forEach(item => {
                const status = item.querySelector('.status').textContent;
                item.style.display = (status === 'Resolved') ? 'block' : 'none';
            });
        }
    </script>
</body>
</html>
